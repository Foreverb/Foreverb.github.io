<!DOCTYPE html>
<html>
  <!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  
  <title>hexo的原理 undefined Cooper Yang</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  
  <meta name="keywords" content=前端,JS,工具>
  
  
  

  <link rel="stylesheet" href="/css/style.css?v=1.06">
  </head>

  <body>
    <div class="container">
      <header class="header">
  <nav class="navbar">
    <div class="menu">
      <div class="menu-item">
      
      </div>
    </div>

    <div class="menu">
      <div class="menu-item">
      
      
        <a href="javascript:void(0)" class="menu-item-link search">搜索</a>
      
      </div>
    </div>
  </nav>
</header>


<div class="holder">&nbsp;</div>
<div class="info">
  <a class="site-title" href=/>Cooper Yang</a>
  
  <div class="subtitle">
    A FrontEnd Engineer
  </div>
  
</div>



<article class="post">
  <div class="post-title">
    <h1 class="article-title">hexo的原理</h1>
  </div>
   <div class="post-meta">
    <span class="post-time">2017-11-14</span>
  </div>
  <div class="post-content">
    <h1 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h1><p>Hexo 是用来生成 HTML 的，github pages 用来展示 HTML（根据上面的介绍，我们可以理解我们还可以使用 coding 的 pages 服务，如果自己有服务器的话，可以上传到自己的服务器）。</p>
<p><img src="https://user-gold-cdn.xitu.io/2017/8/12/1a5437eb122fc14fc88b1920aed5dcca?imageslim" alt="image"></p>
<p>在 Hexo 的官网，我们可以直观的看到对 Hexo 的介绍：快速、简洁且高效的博客框架</p>
<p>在 Hexo 的文档中，我们可以找到官方对 Hexo 的定义：</p>
<blockquote>
<p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p>
</blockquote>
<h2 id="Hexo-的工作原理"><a href="#Hexo-的工作原理" class="headerlink" title="Hexo 的工作原理"></a>Hexo 的工作原理</h2><p>这里我们来分析一下 Hexo 每次部署的流程</p>
<p>hexo g：生成静态文件。将我们的数据和界面相结合生成静态文件的过程。会遍历主题文件中的 source 文件夹（js、css、img 等静态资源），然后建立索引，然后根据索引生成 pubild 文件夹中，此时的 publid 文件是由 html、 js、css、img 建立的纯静态文件可以通过 index.html 作为入口访问你的博客。</p>
<p>hexo d：部署文件。部署主要是根据在 _config.yml 中配置的 git 仓库或者 coding 的地址，将 public 文件上传至 github 或者 coding 中。然后再根据上面的 github 提供的 pages 服务呈现出页面。当然你也可以直接将你生成的 public 文件上传至你自己的服务器上。</p>
<h2 id="Hexo-的模板引擎"><a href="#Hexo-的模板引擎" class="headerlink" title="Hexo 的模板引擎"></a>Hexo 的模板引擎</h2><blockquote>
<p>模板引擎的作用，就是将界面与数据分离。最简单的原理是将模板内容中指定的地方替换成数据，实现业务代码与逻辑代码分离。</p>
</blockquote>
<p>我们可以注意到，在 Hexo 中，source 文件夹和 themes 文件夹是在同级的，我们就可以将 source 文件夹理解为数据库，而主题文件夹相当于 界面。然后我们 hexo g 就将我们的数据和界面相结合生成静态文件 public。</p>
<p>Hexo 的模板引擎是默认使用 ejs 编写的。hexo首先会解析 md 文件，然后根据 layout 判断布局类型，再调用其他的文件，这样每一块的内容都是独立的，提高代码的复用性。最终会生成一个 html 页面。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>非要说 Hexo 是什么的话，我觉得就是生成静态页面的工具，可以将我们使用 markdown 编写的内容与主题模板相结合，生成 HTML 静态文件。并且可以和 github 的 pages 或者其他可以将静态页面展现出来的服务（例如 coding 的 pages 服务）相结合，一键部署。</p>
<p>再深入一点讲 Hexo 的原理的话，那就应该是使用 yaml 语言 做配置文件，使用 ejs 或者 swig 作为主题模板，与使用 markdown 书写的内容结合，生成静态 HTML 文件。</p>
<h2 id="hexo的常用命令"><a href="#hexo的常用命令" class="headerlink" title="hexo的常用命令"></a>hexo的常用命令</h2><h3 id="hexo"><a href="#hexo" class="headerlink" title="hexo"></a>hexo</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo -g #安装</span><br><span class="line">npm update hexo -g #更新</span><br><span class="line">hexo init #初始化</span><br></pre></td></tr></table></figure>
<h3 id="草稿"><a href="#草稿" class="headerlink" title="草稿"></a>草稿</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo publish [layout] &lt;title&gt; #发表草稿。</span><br></pre></td></tr></table></figure>
<h3 id="写作"><a href="#写作" class="headerlink" title="写作"></a>写作</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hexo n &quot;name&quot; #新建文章</span><br><span class="line">hexo g #生成静态网页</span><br><span class="line">hexo p #发表草稿。</span><br><span class="line">hexo s #启动服务</span><br><span class="line">hexo d #部署网站 参数：-g 部署之前先生成静态文件。</span><br></pre></td></tr></table></figure>
<h3 id="服务器"><a href="#服务器" class="headerlink" title="服务器"></a>服务器</h3><p>Hexo 3.0 把服务器独立成了个别模块，您必须先安装才能使用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-server --save #安装服务</span><br><span class="line"></span><br><span class="line">hexo s #启动服务</span><br><span class="line">hexo server -p 5000 #更改端口</span><br><span class="line">hexo s -s #静态模式</span><br><span class="line">hexo s -i 192.168.1.1 #自定义ip</span><br><span class="line"></span><br><span class="line">hexo clean #清除缓存</span><br></pre></td></tr></table></figure>
<h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo d -g</span><br><span class="line">hexo g -d</span><br></pre></td></tr></table></figure>
<p>两者作用完全相同。</p>

  </div>
  <div class="post-footer">
    
      <ul class="post-tag-list"><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/JS/">JS</a></li><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/前端/">前端</a></li><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/工具/">工具</a></li></ul>
    

    <div class="arrow-top">↑</div>
  </div>
</article>


  <div class="search-mask">
    <div class="search-dialog">
        <div class="search-title">
          搜索
          <div class="close">×</div>
        </div>
        <input type="text" autocomplete="off"
               name="search" placeholder="Search for Posts" id="local-search-input">
        <span class="down">↓</span>
        <hr />
        <div id="local-search-result">
          <ul class="archive">
          
          
              <li>
                <a class="archive-title" href="/2017/11/14/hexo的原理/">hexo的原理</a>
                <time class="archive-date">2017-11-14</time>
              </li>
          
              <li>
                <a class="archive-title" href="/2017/11/13/项目功能模块开发流程/">项目功能模块开发流程</a>
                <time class="archive-date">2017-11-13</time>
              </li>
          
              <li>
                <a class="archive-title" href="/2017/11/10/ubb表情逻辑/">js模拟UBB表情发送</a>
                <time class="archive-date">2017-11-10</time>
              </li>
          
              <li>
                <a class="archive-title" href="/2017/11/02/深入了解call,bind,apply原理/">深入理解 call，apply 和 bind</a>
                <time class="archive-date">2017-11-02</time>
              </li>
          
              <li>
                <a class="archive-title" href="/2017/11/01/node自动重启工具/">Node自动重启工具 nodemon</a>
                <time class="archive-date">2017-11-01</time>
              </li>
          
              <li>
                <a class="archive-title" href="/2017/10/31/Promise的基本用法/">Promise 的基础用法</a>
                <time class="archive-date">2017-10-31</time>
              </li>
          
              <li>
                <a class="archive-title" href="/2017/10/30/git常用命令/">git 常用命令</a>
                <time class="archive-date">2017-10-30</time>
              </li>
          
              <li>
                <a class="archive-title" href="/2017/10/29/git创建，查看，删除，切换分支/">git 创建、查看、删除、切换分支问题</a>
                <time class="archive-date">2017-10-29</time>
              </li>
          
              <li>
                <a class="archive-title" href="/2017/10/16/js获取光标位置/">js获取光标位置</a>
                <time class="archive-date">2017-10-16</time>
              </li>
          
              <li>
                <a class="archive-title" href="/2017/07/20/初级前端必知/">初级前端必学</a>
                <time class="archive-date">2017-07-20</time>
              </li>
          
              <li>
                <a class="archive-title" href="/2017/07/06/箭头函数/">箭头函数</a>
                <time class="archive-date">2017-07-06</time>
              </li>
          
              <li>
                <a class="archive-title" href="/2017/07/06/20180706-硬连接和软连接/">硬连接和软连接</a>
                <time class="archive-date">2017-07-06</time>
              </li>
          
              <li>
                <a class="archive-title" href="/2017/07/05/20180705-开源前端面试题/">前端求职面试问题</a>
                <time class="archive-date">2017-07-05</time>
              </li>
          
          </ul>
          
            <div class="top">↑</div>
          
        </div>
    </div>
  </div>

<footer>
  <div class="footer-container">
    <div>
      Powered by <a href="https://github.com/chunqiuyiyu/hexo-theme-samljen">Samljen</a> ❤ Thanks to <a href="https://hexo.io/">Hexo</a> & <a href="https://choo.io/">Choo</a>
    </div>
    <div>
      &copy; 2018
      <a class="author" href='/'>
        Cooper Yang
      </a>. All Right Reserved. 
    </div>
  </div>
</footer>
<script src="/js/utils.js"></script>


    </div>
  </body>
</html>